{% extends 'CTF/base.html' %}

{% block content %}

<p style="color: red;">{{ message }}</p>
<form method="post" id="SubmitRegistrationForm">
    {% csrf_token %}

    <h5>Team Registration</h5>
    <p>Note: If you don't see your institution, you may add it <a href="/Registration/RegisterInstitution">here.</a></p>

    <h5>Team Info</h5>
    {{ formTeam }}
    <br><br>
    <label for="passentry1">Enter a password:</label>
    <input type="password" id="passentry1" name="passentry1" required><br>

    <label for="passentry2">Re-enter password:</label>
    <input type="password" id="passentry2" name="passentry2" required><br>
    {% for form in members %}
        <h5>Team Member {{ forloop.counter }}</h5>
        {% if forloop.counter <= 3 %}
            <label for="firstname_{{ forloop.counter }}">First name:</label>
            <input type="text" name="firstname_{{ forloop.counter }}" id="firstname_{{ forloop.counter }}" required>

            <label for="lastname_{{ forloop.counter }}">Last name:</label>
            <input type="text" name="lastname_{{ forloop.counter }}" id="lastname_{{ forloop.counter }}" required>

            <label for="email_{{ forloop.counter }}">Email:</label>
            <input type="text" name="email_{{ forloop.counter }}" id="email_{{ forloop.counter }}" required>
        {% else %}
            <label for="firstname_{{ forloop.counter }}">First name:</label>
            <input type="text" name="firstname_{{ forloop.counter }}" id="firstname_{{ forloop.counter }}">

            <label for="lastname_{{ forloop.counter }}">Last name:</label>
            <input type="text" name="lastname_{{ forloop.counter }}" id="lastname_{{ forloop.counter }}">

            <label for="email_{{ forloop.counter }}">Email:</label>
            <input type="text" name="email_{{ forloop.counter }}" id="email_{{ forloop.counter }}">
        {% endif %}

        <label for="standing_{{ forloop.counter }}">Class Standing:</label>
        <select name="standing_{{ forloop.counter }}" id="standing_{{ forloop.counter }}">
            <option value="Freshman">Freshman</option>
            <option value="Sophomore">Sophomore</option>
            <option value="Junior">Junior</option>
            <option value="Senior" selected>Senior</option>
        </select>

        {% if forloop.counter == 3 %}
            <br><br><p>You may have up to five team members if at least one is a freshman or sophomore. Otherwise, teams are limited to three members.</p>
        {% endif %}
    {% endfor %}

    {% for form in extraForms %}
        {{ form | linebreaks }}
    {% endfor %}

    <br><br>
    <input type="submit" value="Register" >
</form>


{% endblock %}
